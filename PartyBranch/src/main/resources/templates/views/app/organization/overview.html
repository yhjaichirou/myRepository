<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="template::orgChartHeader(组织架构总览)"></head>
<body>

	<div class="head center">
		<h1>党支部系统组织结构图</h1>
		<p>当前总结点数：100</p>
	</div>
	<div id="chart-container"></div>
	<!-- 模板js -->
	<div th:replace="template::orgChartJs"></div>
	<script th:inline="javascript" type="text/javascript">
	$(function() {
	     var datascource = {
	      'name': 'Lao Lao',
	      'title': 'general manager',
	      'relationship': { 'children_num': 8 },
	      'children': [
	        { 'name': 'Bo Miao', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Su Miao', 'title': 'department manager', 'relationship': { 'children_num': 2, 'parent_num': 1,'sibling_num': 7 },
	          'children': [
	            { 'name': 'Tie Hua', 'title': 'senior engineer', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 1 }},
	            { 'name': 'Hei Hei', 'title': 'senior engineer', 'relationship': { 'children_num': 2, 'parent_num': 1,'sibling_num': 1 },
	              'children': [
	                { 'name': 'Pang Pang', 'title': 'engineer', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 1 }},
	                { 'name': 'Xiang Xiang', 'title': 'UE engineer', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 1 }}
	              ]
	            }
	          ]
	        },
	        { 'name': 'Yu Jie', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Yu Li', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Hong Miao', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Yu Wei', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Chun Miao', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }},
	        { 'name': 'Yu Tie', 'title': 'department manager', 'relationship': { 'children_num': 0, 'parent_num': 1,'sibling_num': 7 }}
	      ]
	    };

	    $('#chart-container').orgchart({
	      'data' : datascource,
	      'depth': 2,
	      'nodeTitle': 'name',
	      'nodeContent': 'title'
	    });
				/*		$('#chart-container').orgchart({
				'data': datascource,
				'nodeContent': 'title',
				'nodeID': 'id',
				'createNode': function($node, data) {
					var secondMenuIcon = $('<i>', {
						'class': 'fa fa-info-circle second-menu-icon',
						click: function() {
							$(this).siblings('.second-menu').toggle();
						}
					});
					var secondMenu = '<div class="second-menu"><img class="avatar" src="../img/avatar/' + data.id + '.jpg"></div>';
					$node.append(secondMenuIcon).append(secondMenu);
				}
			});
	  }); */
	  }); 
  	
	
	</script>
</body>
</html>